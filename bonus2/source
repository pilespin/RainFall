//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2017 Retargetable Decompiler <info@retdec.com>
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ------------------- Function Prototypes --------------------

int greetuser(void);

// --------------------- Global Variables ---------------------

int g1 = 0; // 0x8049988

// ------------------------ Functions -------------------------

// Address range: 0x8048484 - 0x8048528
int greetuser(void) 
{
    // 0x8048484
    int v1;
    char * str = (char *)v1; // bp-76
    switch (g1) 
    {
        case 1: 
        {
            // 0x80484ba
            str = (char *)-0x3c8986b8;
            // branch -> 0x804850a
            break;
        }
        case 2: 
        {
            // 0x80484e9
            str = (char *)0x64656f47;
            // branch -> 0x804850a
            break;
        }
        case 0: 
        {
            // 0x804849d
            str = (char *)0x6c6c6548;
            // branch -> 0x804850a
            break;
        }
    }
    // 0x804850a
    int str2;
    strcat((char *)&str, (char *)&str2);
    return puts((char *)&str);
}

// Address range: 0x8048529 - 0x804863f
int main(int argc, char ** argv) 
{
    // 0x8048529
    int v1;
    char * v2 = (char *)v1; // bp-176
    int result = 1;
    if (argc == 3) 
    {
        // 0x8048548
        int str;
        memset((char *)&str, 0, 19);
        int v3 = (int)argv; // 0x804855c_0
        int str2 = *(int *)(v3 + 4); // 0x8048562
        v2 = (char *)&str;
        strncpy((char *)&str, (char *)str2, 40);
        int str4 = *(int *)(v3 + 8); // 0x8048582
        int str3;
        strncpy((char *)&str3, (char *)str4, 32);
        v2 = "LANG";
        char * env_val = getenv("LANG"); // 0x80485a6
        if (env_val != NULL) 
        {
            // 0x80485bc
            v2 = env_val;
            if (memcmp(env_val, "fi", 2) == 0) 
            {
                // 0x80485df
                g1 = 1;
                // branch -> 0x8048618
            }
            else 
            {
                // 0x80485eb
                v2 = env_val;
                if (memcmp(env_val, "nl", 2) == 0) 
                {
                    // 0x804860e
                    g1 = 2;
                    // branch -> 0x8048618
                }
            }
            // 0x8048618
            memcpy((char *)&v2, (char *)&str, 19);
            result = greetuser();
            // branch -> 0x8048630
            // 0x8048630
            return result;
        }
        // 0x8048618
        memcpy((char *)&v2, (char *)&str, 19);
        result = greetuser();
        // branch -> 0x8048630
    }
    // 0x8048630
    return result;
}

// --------------- Dynamically Linked Functions ---------------

// char * getenv(const char * name);
// int memcmp(const void * s1, const void * s2, size_t n);
// int puts(const char * s);
// char * strcat(char * restrict dest, const char * restrict src);
// char * strncpy(char * restrict dest, const char * restrict src, size_t n);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (i686-redhat-linux-gcc) (4.6.3)
// Detected functions: 2
// Decompiler release: v2.2.1 (2016-09-07)
// Decompilation date: 2017-11-21 17:31:19